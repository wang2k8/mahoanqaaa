<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji_Encoder_NQA</title>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            padding: 20px;
            background-color: #1e1e1e;
            color: #00ff00;
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
            background-color: #2e2e2e;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }
        textarea {
            width: 100%;
            height: 100px;
            background-color: #2e2e2e;
            color: #00ff00;
            border: 1px solid #00ff00;
            padding: 10px;
            font-size: 1em;
            resize: none;
            border-radius: 5px;
        }
        button {
            padding: 10px 15px;
            font-size: 1em;
            cursor: pointer;
            margin: 5px;
            background-color: #00ff00;
            color: #1e1e1e;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #00cc00;
        }
        #encryptedText {
            margin-top: 20px;
            font-size: 1.2em;
            font-weight: bold;
            background-color: #2e2e2e;
            padding: 10px;
            border: 1px solid #00ff00;
            border-radius: 5px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .keyboard {
            display: grid;
            grid-template-columns: repeat(15, 1fr);
            gap: 5px;
            margin-top: 20px;
        }
        .key {
            background-color: #2e2e2e;
            color: #00ff00;
            border: 1px solid #00ff00;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s;
            border-radius: 5px;
        }
        .key:hover {
            background-color: #00cc00;
        }
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>Mã hóa văn bản bằng Emoji</h1>
    <div class="container">
        <textarea id="inputText" placeholder="Nhập văn bản của bạn ở đây..."></textarea>
        <div class="button-container">
            <button onclick="encryptText()">Mã hóa</button>
            <button onclick="decryptText()">Dịch mã</button>
            <button onclick="copyToClipboard()">Sao chép</button>
            <button onclick="pasteFromClipboard()">Dán</button>
            <button onclick="clearInput()">Xóa</button>
        </div>

        <div id="encryptedText"></div>

        <div class="keyboard">
            <div class="key" onclick="addToInput('q')">Q</div>
            <div class="key" onclick="addToInput('w')">W</div>
            <div class="key" onclick="addToInput('e')">E</div>
            <div class="key" onclick="addToInput('r')">R</div>
            <div class="key" onclick="addToInput('t')">T</div>
            <div class="key" onclick="addToInput('y')">Y</div>
            <div class="key" onclick="addToInput('u')">U</div>
            <div class="key" onclick="addToInput('i')">I</div>
            <div class="key" onclick="addToInput('o')">O</div>
            <div class="key" onclick="addToInput('p')">P</div>
            <div class="key" onclick="addToInput('a')">A</div>
            <div class="key" onclick="addToInput('s')">S</div>
            <div class="key" onclick="addToInput('d')">D</div>
            <div class="key" onclick="addToInput('f')">F</div>
            <div class="key" onclick="addToInput('g')">G</div>
            <div class="key" onclick="addToInput('h')">H</div>
            <div class="key" onclick="addToInput('j')">J</div>
            <div class="key" onclick="addToInput('k')">K</div>
            <div class="key" onclick="addToInput('l')">L</div>
            <div class="key" onclick="addToInput('z')">Z</div>
            <div class="key" onclick="addToInput('x')">X</div>
            <div class="key" onclick="addToInput('c')">C</div>
            <div class="key" onclick="addToInput('v')">V</div>
            <div class="key" onclick="addToInput('b')">B</div>
            <div class="key" onclick="addToInput('n')">N</div>
            <div class="key" onclick="addToInput('m')">M</div>
            <div class="key" onclick="addToInput(' ')">SPACE</div>
            <div class="key" onclick="deleteLastCharacter()">Xóa ký tự</div>
        </div>
    </div>

    <script>
        function createEmojiMapping() {
            const letters = "abcdefghijklmnopqrstuvwxyz";
            const emojis = [
                "🦈", "🐂", "🦉", "🐐", "🐸", "👽", "🐔", "🐅", 
                "🐦", "🤡", "🐵", "🦋", "👻", "🐍", "🤮", "🦁", 
                "🗿", "🐢", "🪱", "🦐", "🫶", "🐘", "😘", "🙅‍♀️", 
                "🥵", "🥶", "k", "l", "m", "n", "o", "p", 
                "q", "r", "s", "t", "u", "v", "w", "x", 
                "y", "z"
            ];

            let mapping = {};
            for (let i = 0; i < letters.length; i++) {
                mapping[letters[i]] = emojis[i];
            }
            return mapping;
        }

        function createReverseMapping() {
            const emojiMapping = createEmojiMapping();
            let reverseMapping = {};
            for (let key in emojiMapping) {
                reverseMapping[emojiMapping[key]] = key; // Đổi ánh xạ
            }
            return reverseMapping;
        }

        function encryptText() {
            const emojiMapping = createEmojiMapping();
            const inputText = document.getElementById("inputText").value;
            let encryptedText = "";

            for (let char of inputText) {
                const lowerChar = char.toLowerCase();
                if (emojiMapping[lowerChar]) {
                    encryptedText += emojiMapping[lowerChar];
                } else {
                    encryptedText += char; // Giữ nguyên ký tự không phải chữ cái
                }
            }

            document.getElementById("encryptedText").innerText = encryptedText;
        }

        function decryptText() {
            const reverseMapping = createReverseMapping();
            const inputText = document.getElementById("encryptedText").innerText;
            let decryptedText = "";

            for (let char of inputText) {
                if (reverseMapping[char]) {
                    decryptedText += reverseMapping[char];
                } else {
                    decryptedText += char; // Giữ nguyên ký tự không phải emoji
                }
            }

            document.getElementById("encryptedText").innerText = decryptedText;
        }

        function copyToClipboard() {
            const textToCopy = document.getElementById("encryptedText").innerText;
            navigator.clipboard.writeText(textToCopy).then(() => {
                alert("Đã sao chép vào clipboard!");
            });
        }

        function pasteFromClipboard() {
            navigator.clipboard.readText().then(text => {
                document.getElementById("inputText").value += text; // Dán nội dung vào ô nhập
                document.getElementById("inputText").focus(); // Đưa con trỏ về ô nhập
            });
        }

        function clearInput() {
            document.getElementById("inputText").value = ""; // Xóa ô nhập
            document.getElementById("encryptedText").innerText = ""; // Xóa văn bản mã hóa
        }

        function addToInput(value) {
            const inputText = document.getElementById("inputText");
            inputText.value += value; // Thêm ký tự từ bàn phím ảo vào ô nhập
            inputText.focus(); // Đưa con trỏ về ô nhập
        }

        function deleteLastCharacter() {
            const inputText = document.getElementById("inputText");
            inputText.value = inputText.value.slice(0, -1); // Xóa ký tự cuối cùng
            inputText.focus(); // Đưa con trỏ về ô nhập
        }
    </script>
</body>
</html>
